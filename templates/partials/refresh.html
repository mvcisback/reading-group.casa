<section aria-label="Upcoming reading" class="mb-6 rounded-3xl border border-slate-800 bg-slate-900 p-6 shadow-2xl">
  <header class="mb-3">
    <p class="text-xs uppercase tracking-[0.5em] text-slate-500">Queue</p>
    <h2 class="text-2xl font-semibold text-white">Next reads</h2>
  </header>
  {% if queue_papers %}
    <div class="space-y-4">
      {% for paper in queue_papers %}
        <article class="rounded-2xl border border-slate-800 bg-slate-950 p-5">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-xl font-semibold text-white">{{ paper.title }}</p>
            <span class="rounded-full bg-slate-800 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300">{{ paper.priority_label }} priority</span>
          </div>
          <div class="mt-3 flex flex-wrap gap-3 text-sm text-slate-400">
            <span>Avg {{ paper.priority_score_display }}</span>
            <span>{{ paper.priority_votes }} votes</span>
          </div>
          {% if paper.paper_url %}
            <a href="{{ paper.paper_url }}" target="_blank" rel="noreferrer" class="mt-3 inline-flex rounded-full bg-slate-900 px-3 py-1 text-sm text-slate-300 transition hover:bg-slate-800">View paper</a>
          {% endif %}
          {% if user %}
            <div class="mt-4 flex flex-wrap gap-2 text-[0.65rem] uppercase tracking-[0.3em] text-slate-400">
              <form
                method="post"
                action="/papers/{{ paper.id }}/archive"
                hx-post="/papers/{{ paper.id }}/archive"
                hx-target="#papers-panel"
                hx-swap="innerHTML"
              >
                <button
                  type="submit"
                  class="rounded-2xl border border-slate-700 bg-slate-800 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300 transition hover:border-slate-600 hover:bg-slate-700"
                >
                  Archive
                </button>
              </form>
              <form
                method="post"
                action="/papers/{{ paper.id }}/delete"
                hx-post="/papers/{{ paper.id }}/delete"
                hx-target="#papers-panel"
                hx-swap="innerHTML"
              >
                <button
                  type="submit"
                  class="rounded-2xl border border-rose-600 bg-rose-600/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-rose-200 transition hover:border-rose-500 hover:bg-rose-500/20"
                >
                  Delete
                </button>
              </form>
            </div>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-sm text-slate-400">The queue is empty. Nominate something fresh to get a read moving.</p>
  {% endif %}
</section>
<section aria-label="Paper backlog" class="rounded-3xl border border-slate-800 bg-slate-900 p-6 shadow-2xl">
  <header class="mb-4 flex flex-wrap items-center justify-between gap-3">
    <div>
      <p class="text-xs uppercase tracking-[0.5em] text-slate-500">Backlog</p>
      <h2 class="text-xl font-semibold text-white">Candidate list</h2>
    </div>
    <a data-view-transition href="/vote" class="text-xs uppercase tracking-[0.6em] text-slate-300">Prioritize</a>
  </header>
  {% if backlog_papers %}
    <div class="space-y-4">
      {% for paper in backlog_papers %}
        <article class="rounded-2xl border border-slate-800 bg-slate-950 p-5">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-lg font-semibold text-white">{{ paper.title }}</p>
            <div class="flex items-center gap-3">
              <span class="rounded-full bg-slate-800 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300">{{ paper.priority_label }} priority</span>
              <span class="rounded-full bg-slate-800 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300">{{ paper.priority_votes }} votes</span>
            </div>
          </div>
          {% if paper.paper_url %}
            <a href="{{ paper.paper_url }}" target="_blank" rel="noreferrer" class="mt-3 inline-flex rounded-full bg-slate-900 px-3 py-1 text-sm text-slate-300 transition hover:bg-slate-800">View paper</a>
          {% endif %}
          <p class="mt-3 text-xs text-slate-400">Average priority {{ paper.priority_score_display }} from {{ paper.priority_votes }} votes.</p>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-sm text-slate-400">Backlog is empty. Nominate something fresh and guide the group toward a new read.</p>
  {% endif %}
</section>
<section aria-label="Archived papers" class="mt-6 rounded-3xl border border-slate-800 bg-slate-900 p-6 shadow-2xl">
  <header class="mb-4">
    <p class="text-xs uppercase tracking-[0.5em] text-slate-500">Archive</p>
    <h2 class="text-xl font-semibold text-white">Archived papers</h2>
  </header>
  {% if archived_papers %}
    <div class="space-y-4">
      {% for paper in archived_papers %}
        <article class="rounded-2xl border border-slate-800 bg-slate-950 p-5">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-lg font-semibold text-white">{{ paper.title }}</p>
            <span class="rounded-full bg-slate-800 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-slate-300">Archived</span>
          </div>
          <div class="mt-3 flex flex-wrap gap-3 text-sm text-slate-400">
            <span>Avg {{ paper.priority_score_display }}</span>
            <span>{{ paper.priority_votes }} votes</span>
          </div>
          {% if paper.paper_url %}
            <a href="{{ paper.paper_url }}" target="_blank" rel="noreferrer" class="mt-3 inline-flex rounded-full bg-slate-900 px-3 py-1 text-sm text-slate-300 transition hover:bg-slate-800">View paper</a>
          {% endif %}
          {% if user %}
            <div class="mt-4 flex flex-wrap gap-2 text-[0.65rem] uppercase tracking-[0.3em] text-slate-400">
              <form
                method="post"
                action="/papers/{{ paper.id }}/unarchive"
                hx-post="/papers/{{ paper.id }}/unarchive"
                hx-target="#papers-panel"
                hx-swap="innerHTML"
              >
                <button
                  type="submit"
                  class="rounded-2xl border border-emerald-500 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-200 transition hover:border-emerald-400 hover:bg-emerald-400/20"
                >
                  Unarchive
                </button>
              </form>
            </div>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-sm text-slate-400">No archived papers yet. Archive something you want to revisit later.</p>
  {% endif %}
</section>
