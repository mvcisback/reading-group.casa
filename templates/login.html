{% extends "base.html" %}

{% block content %}
  <section class="text-center space-y-1">
    <p class="text-xs uppercase tracking-[0.4em] text-slate-500">Account</p>
    <h2 class="text-3xl font-semibold text-white">Sign in or register</h2>
  </section>
  <section class="mt-6 grid gap-6 lg:grid-cols-2">
    {% if user %}
      <article class="rounded-3xl border border-slate-800 bg-slate-900 p-6 shadow-2xl">
        <p class="text-sm text-slate-300">Signed in as <span class="font-semibold text-white">{{ user.username }}</span></p>
        <form method="post" action="/users/logout" class="mt-4">
          <button type="submit" class="w-full rounded-2xl bg-slate-700 px-4 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-slate-200 transition hover:bg-slate-600">Log out</button>
        </form>
      </article>
      <article class="rounded-3xl border border-slate-800 bg-slate-950 p-6 shadow-2xl flex items-center justify-center">
        <a data-view-transition href="/" class="inline-flex items-center justify-center rounded-2xl border border-slate-700 px-4 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-slate-200 transition hover:border-slate-500">Back to schedule</a>
      </article>
    {% else %}
      <article class="rounded-3xl border border-slate-800 bg-slate-900 p-6 shadow-2xl">
        <p class="text-xs uppercase tracking-[0.6em] text-slate-500">Register</p>
        <h3 class="text-lg font-semibold text-white">Create account</h3>
        <form method="post" action="/users/register" class="mt-4 space-y-3">
          <input name="username" required autocomplete="username" class="w-full rounded-2xl border border-slate-800 bg-slate-950 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none" placeholder="Username" />
          <input name="password" type="password" required autocomplete="new-password" class="w-full rounded-2xl border border-slate-800 bg-slate-950 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none" placeholder="Password" />
          <button type="submit" class="w-full rounded-2xl bg-emerald-500 px-4 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-emerald-900 transition hover:bg-emerald-400">Register</button>
        </form>
      </article>
      <article class="rounded-3xl border border-slate-800 bg-slate-950 p-6 shadow-2xl">
        <p class="text-xs uppercase tracking-[0.6em] text-slate-500">Log in</p>
        <h3 class="text-lg font-semibold text-white">Access voting</h3>
        <form method="post" action="/users/login" class="mt-4 space-y-3">
          <input name="username" required autocomplete="username" class="w-full rounded-2xl border border-slate-800 bg-slate-900 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none" placeholder="Username" />
          <input name="password" type="password" required autocomplete="current-password" class="w-full rounded-2xl border border-slate-800 bg-slate-900 px-4 py-2 text-sm text-white placeholder:text-slate-500 focus:border-sky-500 focus:outline-none" placeholder="Password" />
          <button type="submit" class="w-full rounded-2xl bg-sky-500 px-4 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-slate-950 transition hover:bg-sky-400">Log in</button>
        </form>
      </article>
    {% endif %}
  </section>
{% endblock %}
